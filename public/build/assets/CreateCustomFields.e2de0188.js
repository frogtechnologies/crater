import{J as T,L as E,O as P,T as D,k as y,aE as I,r as f,o as n,l as m,w as _,aj as g,u as c,_ as q,C as h,e as v,f as j,F as w,y as V,j as b,I as L}from"./vendor.8669b7df.js";import{o as s,m as F}from"./main.8525167c.js";function O(e){switch(e){case"./types/DateTimeType.vue":return s(()=>import("./DateTimeType.501a0408.js"),["assets/DateTimeType.501a0408.js","assets/vendor.8669b7df.js"]);case"./types/DateType.vue":return s(()=>import("./DateType.13ec9120.js"),["assets/DateType.13ec9120.js","assets/vendor.8669b7df.js"]);case"./types/DropdownType.vue":return s(()=>import("./DropdownType.1d8eaf93.js"),["assets/DropdownType.1d8eaf93.js","assets/vendor.8669b7df.js"]);case"./types/InputType.vue":return s(()=>import("./InputType.f3afaf76.js"),["assets/InputType.f3afaf76.js","assets/vendor.8669b7df.js"]);case"./types/NumberType.vue":return s(()=>import("./NumberType.eb921d76.js"),["assets/NumberType.eb921d76.js","assets/vendor.8669b7df.js"]);case"./types/PhoneType.vue":return s(()=>import("./PhoneType.c40a2c97.js"),["assets/PhoneType.c40a2c97.js","assets/vendor.8669b7df.js"]);case"./types/SwitchType.vue":return s(()=>import("./SwitchType.a265f699.js"),["assets/SwitchType.a265f699.js","assets/vendor.8669b7df.js"]);case"./types/TextAreaType.vue":return s(()=>import("./TextAreaType.5ed486e3.js"),["assets/TextAreaType.5ed486e3.js","assets/vendor.8669b7df.js"]);case"./types/TimeType.vue":return s(()=>import("./TimeType.fad74daa.js"),["assets/TimeType.fad74daa.js","assets/vendor.8669b7df.js"]);case"./types/UrlType.vue":return s(()=>import("./UrlType.ecc89c2f.js"),["assets/UrlType.ecc89c2f.js","assets/vendor.8669b7df.js"]);default:return new Promise(function(t,u){(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(u.bind(null,new Error("Unknown variable dynamic import: "+e)))})}}const S={props:{field:{type:Object,required:!0},customFieldScope:{type:String,required:!0},index:{type:Number,required:!0},store:{type:Object,required:!0},storeProp:{type:String,required:!0}},setup(e){const t=e,{t:u}=T(),d={value:{required:E.withMessage(u("validation.required"),P(t.field.is_required))}},a=D(d,y(()=>t.field),{$scope:t.customFieldScope}),r=y(()=>t.field.type?I(()=>O(`./types/${t.field.type}Type.vue`)):!1);return(i,o)=>{const l=f("BaseInputGroup");return n(),m(l,{label:e.field.label,required:!!e.field.is_required,error:c(a).value.$error&&c(a).value.$errors[0].$message},{default:_(()=>[(n(),m(g(c(r)),{modelValue:e.field.value,"onUpdate:modelValue":o[0]||(o[0]=p=>e.field.value=p),options:e.field.options,invalid:c(a).value.$error,placeholder:e.field.placeholder},null,8,["modelValue","options","invalid","placeholder"]))]),_:1},8,["label","required","error"])}}},x={key:0},k={props:{store:{type:Object,required:!0},storeProp:{type:String,required:!0},isEdit:{type:Boolean,default:!1},type:{type:String,default:null},gridLayout:{type:String,default:"two-column"},isLoading:{type:Boolean,default:null},customFieldScope:{type:String,required:!0}},setup(e){const t=e,u=F();a();function d(){t.isEdit&&t.store[t.storeProp].fields.forEach(r=>{const i=t.store[t.storeProp].customFields.findIndex(o=>o.id===r.custom_field_id);if(i>-1){let o=r.default_answer;o&&r.custom_field.type==="DateTime"&&(o=L(r.default_answer,"YYYY-MM-DD HH:mm:ss").format("YYYY-MM-DD HH:mm")),t.store[t.storeProp].customFields[i]={...r,id:r.custom_field_id,value:o,label:r.custom_field.label,options:r.custom_field.options,is_required:r.custom_field.is_required,placeholder:r.custom_field.placeholder,order:r.custom_field.order}}})}async function a(){let i=(await u.fetchCustomFields({type:t.type,limit:"all"})).data.data;i.map(o=>o.value=o.default_answer),t.store[t.storeProp].customFields=q.sortBy(i,o=>o.order),d()}return h(()=>t.store[t.storeProp].fields,r=>{d()}),(r,i)=>{const o=f("BaseInputGrid");return e.store[e.storeProp]&&e.store[e.storeProp].customFields.length>0&&!e.isLoading?(n(),v("div",x,[j(o,{layout:e.gridLayout},{default:_(()=>[(n(!0),v(w,null,V(e.store[e.storeProp].customFields,(l,p)=>(n(),m(S,{key:l.id,"custom-field-scope":e.customFieldScope,store:e.store,"store-prop":e.storeProp,index:p,field:l},null,8,["custom-field-scope","store","store-prop","index","field"]))),128))]),_:1},8,["layout"])])):b("",!0)}}};export{k as _};
