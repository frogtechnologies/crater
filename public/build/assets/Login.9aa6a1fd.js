import{aN as C,G as j,J as M,B as w,k as $,T as N,r as d,o as c,e as T,f as r,w as i,u as e,l as y,h as D,i as B,t as b,m as E,U as G,L as g,M as I,Q as L}from"./vendor.8669b7df.js";import{u as U}from"./auth.65253152.js";import"./main.8525167c.js";const O=["onSubmit"],P={class:"flex items-center justify-between"},J={setup(R){const _=C(),h=j(),s=U(),{t:m}=M();let u=w(!1);const n=w(!1),k=$(()=>n.value?"text":"password"),V=$(()=>({loginData:{email:{required:g.withMessage(m("validation.required"),I),email:g.withMessage(m("validation.email_incorrect"),L)},password:{required:g.withMessage(m("validation.required"),I)}}})),o=N(V,s);async function S(){if(o.value.loginData.$touch(),o.value.loginData.$invalid)return!0;u.value=!0;let l={...s.loginData,company:h.params.company};try{return await s.login(l),u.value=!1,_.push({name:"customer.dashboard"});s.$reset()}catch{u.value=!1}}return(l,a)=>{const f=d("BaseInput"),v=d("BaseInputGroup"),p=d("BaseIcon"),q=d("router-link"),x=d("BaseButton");return c(),T("form",{id:"loginForm",class:"space-y-6",action:"#",method:"POST",onSubmit:G(S,["prevent"])},[r(v,{error:e(o).loginData.email.$error&&e(o).loginData.email.$errors[0].$message,label:l.$t("login.email"),class:"mb-4",required:""},{default:i(()=>[r(f,{modelValue:e(s).loginData.email,"onUpdate:modelValue":a[0]||(a[0]=t=>e(s).loginData.email=t),type:"email",invalid:e(o).loginData.email.$error,onInput:a[1]||(a[1]=t=>e(o).loginData.email.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["error","label"]),r(v,{error:e(o).loginData.password.$error&&e(o).loginData.password.$errors[0].$message,label:l.$t("login.password"),class:"mb-4",required:""},{default:i(()=>[r(f,{modelValue:e(s).loginData.password,"onUpdate:modelValue":a[4]||(a[4]=t=>e(s).loginData.password=t),type:e(k),invalid:e(o).loginData.password.$error,onInput:a[5]||(a[5]=t=>e(o).loginData.password.$touch())},{right:i(()=>[n.value?(c(),y(p,{key:0,name:"EyeOffIcon",class:"w-5 h-5 mr-1 text-gray-500 cursor-pointer",onClick:a[2]||(a[2]=t=>n.value=!n.value)})):(c(),y(p,{key:1,name:"EyeIcon",class:"w-5 h-5 mr-1 text-gray-500 cursor-pointer",onClick:a[3]||(a[3]=t=>n.value=!n.value)}))]),_:1},8,["modelValue","type","invalid"])]),_:1},8,["error","label"]),D("div",P,[r(q,{to:{name:"customer.forgot-password"},class:"text-sm text-primary-600 hover:text-gray-500"},{default:i(()=>[B(b(l.$t("login.forgot_password")),1)]),_:1},8,["to"])]),D("div",null,[r(x,{loading:e(u),disabled:e(u),type:"submit",class:"w-full justify-center"},{left:i(t=>[r(p,{name:"LockClosedIcon",class:E(t.class)},null,8,["class"])]),default:i(()=>[B(" "+b(l.$t("login.login")),1)]),_:1},8,["loading","disabled"])])],40,O)}}};export{J as default};
